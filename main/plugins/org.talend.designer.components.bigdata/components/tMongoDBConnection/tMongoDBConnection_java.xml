<COMPONENT>
    <HEADER
        PLATEFORM="ALL"
        SERIAL=""
        VERSION="0.101"
        STATUS="ALPHA"

        COMPATIBILITY="ALL"
        AUTHOR="Talend"
        RELEASE_DATE="20070210A"
        STARTABLE="true"
        LOG4J_ENABLED="true"
        >
        <SIGNATURE></SIGNATURE>
    </HEADER>
    <FAMILIES>
        <FAMILY>Databases NoSQL/MongoDB</FAMILY>
        <FAMILY>Big Data/MongoDB</FAMILY>
    </FAMILIES>
    <DOCUMENTATION>
        <URL />
    </DOCUMENTATION>
    <CONNECTORS>
        <CONNECTOR CTYPE="FLOW" MAX_INPUT="0" MAX_OUTPUT="0" />
        <CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="0" MAX_INPUT="1" />
        <CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
        <CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1" />
        <CONNECTOR CTYPE="COMPONENT_OK" />
        <CONNECTOR CTYPE="COMPONENT_ERROR" />
        <CONNECTOR CTYPE="RUN_IF" />
    </CONNECTORS>
    <PARAMETERS>
        <PARAMETER NAME="PROPERTY" FIELD="PROPERTY_TYPE" NUM_ROW="1" REPOSITORY_VALUE="NOSQL:MONGODB"/>

        <PARAMETER NAME="DB_VERSION" FIELD="CLOSED_LIST" REPOSITORY_VALUE="DB_VERSION" NUM_ROW="2" GROUP="CONNECTION">
            <ITEMS DEFAULT="MONGODB_4_4_X">
                <ITEM NAME="MONGODB_3_5_X" VALUE="MONGODB_3_5_X"/>
                <ITEM NAME="MONGODB_4_4_X" VALUE="MONGODB_4_4_X"/>
            </ITEMS>
        </PARAMETER>
        
        <PARAMETER FIELD="CHECK" NAME="USE_CONNECTION_STRING" REPOSITORY_VALUE="USE_CONNECTION_STRING" NUM_ROW="3" SHOW_IF="(DB_VERSION=='MONGODB_4_4_X')" GROUP="CONNECTION">
            <DEFAULT>"false"</DEFAULT>
        </PARAMETER>
        
        <PARAMETER FIELD="TEXT" NAME="CONNECTION_STRING" REPOSITORY_VALUE="CONNECTION_STRING" NUM_ROW="3" REQUIRED="true" SHOW_IF="isShow[USE_CONNECTION_STRING] AND (USE_CONNECTION_STRING=='true')" GROUP="CONNECTION">
            <DEFAULT>""</DEFAULT>
        </PARAMETER>
        
        <PARAMETER FIELD="CHECK" NAME="USE_REPLICA_SET" REPOSITORY_VALUE="USE_REPLICA_SET" NUM_ROW="4" SHOW_IF="((DB_VERSION=='MONGODB_4_4_X') AND (USE_CONNECTION_STRING=='false')) OR (DB_VERSION=='MONGODB_3_5_X')" GROUP="CONNECTION">
            <DEFAULT>"false"</DEFAULT>
        </PARAMETER>
        <PARAMETER NAME="REPLICA_SET" FIELD="TABLE" REPOSITORY_VALUE="REPLICA_SET" REQUIRED="true" NUM_ROW="5" NB_LINES="5" SHOW_IF="isShow[USE_REPLICA_SET] AND (USE_REPLICA_SET=='true')" GROUP="CONNECTION">
            <ITEMS>
                <ITEM NAME="REPLICA_HOST" FIELD="TEXT" />
                <ITEM NAME="REPLICA_PORT" FIELD="TEXT" />
            </ITEMS>
        </PARAMETER>

        <PARAMETER FIELD="TEXT" NAME="HOST" REPOSITORY_VALUE="HOST" NUM_ROW="6" REQUIRED="true" SHOW_IF="isShow[USE_REPLICA_SET] AND (USE_REPLICA_SET=='false')" GROUP="CONNECTION">
            <DEFAULT>""</DEFAULT>
        </PARAMETER>
        <PARAMETER FIELD="TEXT" NAME="PORT" REPOSITORY_VALUE="PORT" NUM_ROW="6" SHOW_IF="isShow[HOST]" GROUP="CONNECTION">
            <DEFAULT>27017</DEFAULT>
        </PARAMETER>
        
        <PARAMETER FIELD="TEXT" NAME="DATABASE" REPOSITORY_VALUE="DATABASE" NUM_ROW="10" REQUIRED="true" GROUP="CONNECTION">
        <DEFAULT>""</DEFAULT>
        </PARAMETER>

        <PARAMETER FIELD="CHECK" NAME="USE_SSL" REPOSITORY_VALUE="USE_SSL" NUM_ROW="12" GROUP="CONNECTION">
            <DEFAULT>"false"</DEFAULT>
        </PARAMETER>

        <PARAMETER NAME="REQUIRED_AUTHENTICATION" REPOSITORY_VALUE="REQUIRED_AUTHENTICATION" FIELD="CHECK"
            NUM_ROW="15" GROUP="AUTHENTICATION">
            <DEFAULT>false</DEFAULT>
        </PARAMETER>

        <PARAMETER NAME="AUTHENTICATION_MECHANISM" REPOSITORY_VALUE="AUTHENTICATION_MECHANISM" FIELD="CLOSED_LIST" NUM_ROW="16" SHOW_IF="REQUIRED_AUTHENTICATION == 'true'" GROUP="AUTHENTICATION">
            <ITEMS DEFAULT="SCRAMSHA1_MEC">
                <ITEM NAME="NEGOTIATE_MEC" VALUE="NEGOTIATE_MEC"  SHOW_IF="(DB_VERSION!='INVALID')"/>
                <ITEM NAME="PLAIN_MEC" VALUE="PLAIN_MEC" SHOW_IF="(DB_VERSION!='MONGODB_2_5_X')"/>
                <ITEM NAME="SCRAMSHA1_MEC" VALUE="SCRAMSHA1_MEC" SHOW_IF="(DB_VERSION=='MONGODB_3_0_X') OR (DB_VERSION=='MONGODB_3_2_X') OR (DB_VERSION=='MONGODB_3_5_X')" />
                <ITEM NAME="SCRAMSHA256_MEC" VALUE="SCRAMSHA256_MEC" SHOW_IF="(DB_VERSION=='MONGODB_4_4_X')" />
                <ITEM NAME="KERBEROS_MEC" VALUE="KERBEROS_MEC" SHOW_IF="(DB_VERSION!='INVALID')"/>
                <ITEM NAME="X509" VALUE="X509" />
            </ITEMS>
        </PARAMETER>
        
        <PARAMETER FIELD="CHECK" NAME="SET_AUTHENTICATION_DATABASE" REPOSITORY_VALUE="SET_AUTHENTICATION_DATABASE"
            NUM_ROW="18" SHOW_IF="((AUTHENTICATION_MECHANISM=='NEGOTIATE_MEC') OR (AUTHENTICATION_MECHANISM=='SCRAMSHA1_MEC') OR (AUTHENTICATION_MECHANISM=='SCRAMSHA256_MEC')) AND (REQUIRED_AUTHENTICATION == 'true')" GROUP="AUTHENTICATION">
            <DEFAULT>false</DEFAULT>
        </PARAMETER>

        <PARAMETER FIELD="TEXT" NAME="AUTHENTICATION_DATABASE" REPOSITORY_VALUE="AUTHENTICATION_DATABASE" NUM_ROW="19"
            SHOW_IF="(SET_AUTHENTICATION_DATABASE=='true') AND (isShow[SET_AUTHENTICATION_DATABASE])" GROUP="AUTHENTICATION">
            <DEFAULT>""</DEFAULT>
        </PARAMETER>
        
        <PARAMETER FIELD="CHECK" NAME="SET_X509_USERNAME" NUM_ROW="20" SHOW_IF="(AUTHENTICATION_MECHANISM=='X509') AND (REQUIRED_AUTHENTICATION == 'true')" GROUP="AUTHENTICATION">
            <DEFAULT>false</DEFAULT>
        </PARAMETER>

        <PARAMETER FIELD="TEXT" NAME="USERNAME" REPOSITORY_VALUE="USERNAME" NUM_ROW="20"
            SHOW_IF="(((AUTHENTICATION_MECHANISM=='X509') AND (SET_X509_USERNAME=='true')) OR (AUTHENTICATION_MECHANISM=='NEGOTIATE_MEC') OR (AUTHENTICATION_MECHANISM=='PLAIN_MEC') OR (AUTHENTICATION_MECHANISM=='SCRAMSHA1_MEC') OR (AUTHENTICATION_MECHANISM=='SCRAMSHA256_MEC')) AND (REQUIRED_AUTHENTICATION == 'true')" GROUP="AUTHENTICATION">
            <DEFAULT>""</DEFAULT>
        </PARAMETER>

        <PARAMETER FIELD="PASSWORD" NAME="PASSWORD" REPOSITORY_VALUE="PASSWORD" NUM_ROW="20"
            SHOW_IF="((AUTHENTICATION_MECHANISM=='NEGOTIATE_MEC') OR (AUTHENTICATION_MECHANISM=='PLAIN_MEC') OR (AUTHENTICATION_MECHANISM=='SCRAMSHA1_MEC') OR (AUTHENTICATION_MECHANISM=='SCRAMSHA256_MEC')) AND (REQUIRED_AUTHENTICATION == 'true')" GROUP="AUTHENTICATION">
            <DEFAULT>""</DEFAULT>
        </PARAMETER>

        <PARAMETER FIELD="TEXT" NAME="KRB_USER_PRINCIPAL" REPOSITORY_VALUE="KRB_USER_PRINCIPAL" NUM_ROW="25"
            SHOW_IF="(AUTHENTICATION_MECHANISM=='KERBEROS_MEC') AND (REQUIRED_AUTHENTICATION=='true')" GROUP="AUTHENTICATION">
            <DEFAULT>"mongouser@EXAMPLE.COM"</DEFAULT>
        </PARAMETER>

        <PARAMETER FIELD="TEXT" NAME="KRB_REALM" REPOSITORY_VALUE="KRB_REALM" NUM_ROW="26"
            SHOW_IF="(AUTHENTICATION_MECHANISM=='KERBEROS_MEC') AND (REQUIRED_AUTHENTICATION=='true')" GROUP="AUTHENTICATION">
            <DEFAULT>"EXAMPLE.COM"</DEFAULT>
        </PARAMETER>

        <PARAMETER FIELD="TEXT" NAME="KRB_KDC" REPOSITORY_VALUE="KRB_KDC" NUM_ROW="27"
            SHOW_IF="(AUTHENTICATION_MECHANISM=='KERBEROS_MEC') AND (REQUIRED_AUTHENTICATION=='true')" GROUP="AUTHENTICATION">
            <DEFAULT>"kdc.example.com"</DEFAULT>
        </PARAMETER>

        <PARAMETER FIELD="CHECK" NAME="SET_READ_PREFERENCE" NUM_ROW="30" GROUP="READ_PREFERENCE_GROUP"
            SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'">
            <DEFAULT>"false"</DEFAULT>
        </PARAMETER>

        <PARAMETER NAME="READ_PREFERENCE" FIELD="CLOSED_LIST" NUM_ROW="32" GROUP="READ_PREFERENCE_GROUP"
            SHOW_IF="SET_READ_PREFERENCE=='true'">
            <ITEMS DEFAULT="PRIMARY">
                <ITEM NAME="PRIMARY" VALUE="PRIMARY"/>
                <ITEM NAME="PRIMARY_PREFERRED" VALUE="PRIMARY_PREFERRED"/>
                <ITEM NAME="SECONDARY" VALUE="SECONDARY"/>
                <ITEM NAME="SECONDARY_PREFERRED" VALUE="SECONDARY_PREFERRED"/>
                <ITEM NAME="NEAREST" VALUE="NEAREST"/>
            </ITEMS>
        </PARAMETER>

        <PARAMETER FIELD="CHECK" NAME="SET_WRITE_CONCERN" NUM_ROW="34" GROUP="WRITE_CONCERN_GROUP"
            SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'">
            <DEFAULT>"false"</DEFAULT>
        </PARAMETER>

        <PARAMETER NAME="WRITE_CONCERN" FIELD="CLOSED_LIST" NUM_ROW="36" GROUP="WRITE_CONCERN_GROUP"
            SHOW_IF="SET_WRITE_CONCERN=='true'">
            <ITEMS DEFAULT="ACKNOWLEDGED">
                <ITEM NAME="ACKNOWLEDGED" VALUE="ACKNOWLEDGED"/>
                <ITEM NAME="UNACKNOWLEDGED" VALUE="UNACKNOWLEDGED"/>
                <ITEM NAME="JOURNALED" VALUE="JOURNALED"/>
                <ITEM NAME="MAJORITY" VALUE="MAJORITY"/>
                <ITEM NAME="W1" VALUE="W1"/>
                <ITEM NAME="W2" VALUE="W2"/>
                <ITEM NAME="W3" VALUE="W3"/>
            </ITEMS>
        </PARAMETER>

    </PARAMETERS>
    <ADVANCED_PARAMETERS>

        <PARAMETER FIELD="CHECK" NAME="QUERYOPTION_NOTIMEOUT" REPOSITORY_VALUE="QUERYOPTION_NOTIMEOUT"
            NUM_ROW="50" GROUP="ADVANCED_QUERY_OPTIONS" NOT_SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'">
            <DEFAULT>false</DEFAULT>
        </PARAMETER>

        
        <PARAMETER 
          NAME="APPLY_OPTIONAL_ATTRIBUTES" 
          FIELD="CHECK" 
          NUM_ROW="55" 
          GROUP="DB_OPTIONAL_ATTRIBUTES">
          <DEFAULT>false</DEFAULT>
        </PARAMETER>

        <PARAMETER 
          NAME="OPTIONAL_ATTRIBUTES" 
          FIELD="TABLE"
          NUM_ROW="60" 
          NB_LINES="5" 
          GROUP="DB_OPTIONAL_ATTRIBUTES"
          SHOW_IF="(APPLY_OPTIONAL_ATTRIBUTES == 'true')">
          <ITEMS>
            <ITEM NAME="OPTIONAL_ATTRIBUTES_NAME" FIELD="CLOSED_LIST">
                <ITEMS DEFAULT="CONNECTIONS_PER_HOST">
                  <ITEM NAME="CONNECTIONS_PER_HOST" VALUE="CONNECTIONS_PER_HOST"/>
                  <ITEM NAME="ALWAYS_USE_MBEANS" VALUE="ALWAYS_USE_MBEANS" NOT_SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'"/>
                  <ITEM NAME="MIN_CONNECTIONS_PER_HOST" VALUE="MIN_CONNECTIONS_PER_HOST"/>
                  <ITEM NAME="MAINTENANCE_FREQUENCY" VALUE="MAINTENANCE_FREQUENCY" SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'"/>
                  <ITEM NAME="MAINTENANCE_INITIAL_DELAY" VALUE="MAINTENANCE_INITIAL_DELAY" SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'"/>
                  <ITEM NAME="MAX_CONNECTION_IDLE_TIME" VALUE="MAX_CONNECTION_IDLE_TIME"/>
                  <ITEM NAME="MAX_CONNECTION_LIFE_TIME" VALUE="MAX_CONNECTION_LIFE_TIME"/>
                  <ITEM NAME="MAX_WAIT_TIME" VALUE="MAX_WAIT_TIME"/>
                  <ITEM NAME="CONNECT_TIMEOUT" VALUE="CONNECT_TIMEOUT" NOT_SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'"/>
                  <ITEM NAME="CURSOR_FINALIZER_ENABLED" VALUE="CURSOR_FINALIZER_ENABLED" NOT_SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'"/>
                  <ITEM NAME="HEARTBEAT_CONNECT_TIMEOUT" VALUE="HEARTBEAT_CONNECT_TIMEOUT" NOT_SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'"/>
                  <ITEM NAME="LOCAL_THRESHOLD" VALUE="LOCAL_THRESHOLD"/>
                  <ITEM NAME="REQUIRED_REPLICA_SET_NAME" VALUE="REQUIRED_REPLICA_SET_NAME"/>
                  <ITEM NAME="SERVER_SELECTION_TIMEOUT" VALUE="SERVER_SELECTION_TIMEOUT"/>
                  <ITEM NAME="HEARTBEAT_FREQUENCY" VALUE="HEARTBEAT_FREQUENCY"/>
                  <ITEM NAME="MIN_HEARTBEAT_FREQUENCY" VALUE="MIN_HEARTBEAT_FREQUENCY"/>
                  <ITEM NAME="HEARTBEAT_SOCKET_TIMEOUT" VALUE="HEARTBEAT_SOCKET_TIMEOUT" NOT_SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'"/>
                  <ITEM NAME="SOCKET_KEEP_ALIVE" VALUE="SOCKET_KEEP_ALIVE" NOT_SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'"/>
                  <ITEM NAME="SOCKET_TIMEOUT" VALUE="SOCKET_TIMEOUT" NOT_SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'"/>
                  <ITEM NAME="SOCKET_CONNECT_TIMEOUT" VALUE="SOCKET_CONNECT_TIMEOUT" SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'"/>
                  <ITEM NAME="SOCKET_READ_TIMEOUT" VALUE="SOCKET_READ_TIMEOUT" SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'"/>
                  <ITEM NAME="RECEIVE_BUFFER_SIZE" VALUE="RECEIVE_BUFFER_SIZE" SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'"/>
                  <ITEM NAME="SEND_BUFFER_SIZE" VALUE="SEND_BUFFER_SIZE" SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'"/>
                  <ITEM NAME="SSL_INVALID_HOSTNAME_ALLOWED" VALUE="SSL_INVALID_HOSTNAME_ALLOWED"/>
                  <ITEM NAME="THREADS_ALLOWED_TO_BLOCK_FOR_CONNECTION_MULTIPLIER" VALUE="THREADS_ALLOWED_TO_BLOCK_FOR_CONNECTION_MULTIPLIER" NOT_SHOW_IF="DB_VERSION == 'MONGODB_4_4_X'"/>
                </ITEMS>
            </ITEM>
            <ITEM NAME="OPTIONAL_ATTRIBUTES_VALUE" FIELD="TEXT" />
          </ITEMS>
        </PARAMETER>
    </ADVANCED_PARAMETERS>
    <CODEGENERATION>
        <IMPORTS>
            <IMPORT MODULE="mongodb-driver-core-4.2.3.jar" MVN="mvn:org.mongodb/mongodb-driver-core/4.2.3" NAME="mongodb-driver-core-4.2.3" REQUIRED_IF="(DB_VERSION == 'MONGODB_4_4_X')" />
            <IMPORT MODULE="mongodb-driver-sync-4.2.3.jar" MVN="mvn:org.mongodb/mongodb-driver-sync/4.2.3" NAME="mongodb-driver-sync-4.2.3" REQUIRED_IF="(DB_VERSION == 'MONGODB_4_4_X')" />
            <IMPORT MODULE="bson-4.2.3.jar" MVN="mvn:org.mongodb/bson/4.2.3" NAME="bson-4.2.3" REQUIRED_IF="(DB_VERSION == 'MONGODB_4_4_X')" />
            <IMPORT MODULE="mongo-java-driver-3.12.11.jar" MVN="mvn:org.mongodb/mongo-java-driver/3.12.11" NAME="mongo-java-driver-3.12.11" REQUIRED_IF="((DB_VERSION == 'MONGODB_3_0_X') OR (DB_VERSION == 'MONGODB_3_2_X') OR (DB_VERSION == 'MONGODB_3_5_X'))"/>
        </IMPORTS>
    </CODEGENERATION>
    <RETURNS/>
</COMPONENT>
